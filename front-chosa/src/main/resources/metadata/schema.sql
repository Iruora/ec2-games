-- phpMyAdmin SQL Dump
-- version 4.1.14
-- http://www.phpmyadmin.net
--
-- Client :  127.0.0.1
-- Généré le :  Lun 30 Octobre 2017 à 16:18
-- Version du serveur :  5.6.17
-- Version de PHP :  5.5.12

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

--
-- Base de données :  `chosa`
--

-- --------------------------------------------------------

--
-- Structure de la table `app_category`
--

CREATE TABLE IF NOT EXISTS `app_category` (
  `CATEGORY_ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `CATEGORY_NAME` varchar(255) NOT NULL,
  `CATEGORY_PARENT_ID_FK` bigint(20) NOT NULL,
  `USER_ID_FK` bigint(20) NOT NULL,
  `CREATION_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `UPDATING_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `DELETING_DATE` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`CATEGORY_ID`),
  KEY `CATEGORY_PARENT_ID_FK` (`CATEGORY_PARENT_ID_FK`,`USER_ID_FK`),
  KEY `USER_ID_FK` (`USER_ID_FK`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Structure de la table `app_country`
--

CREATE TABLE IF NOT EXISTS `app_country` (
  `ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `NAME` varchar(50) DEFAULT NULL,
  `NAME_FR` varchar(50) DEFAULT NULL,
  `ISO` varchar(3) DEFAULT NULL,
  `ISO3` varchar(5) DEFAULT NULL,
  `FIPS` varchar(3) DEFAULT NULL,
  `CONTINENT` varchar(3) DEFAULT NULL,
  `PHONE_PREFIX` varchar(45) DEFAULT NULL,
  `POSTAL_CODE` varchar(45) DEFAULT NULL,
  `LANGUAGES` varchar(45) DEFAULT NULL,
  `CURRENCY_ID_FK` bigint(20) DEFAULT NULL,
  `CREATION_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `UPDATING_DATE` timestamp NULL DEFAULT NULL,
  `DELETING_DATE` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`ID`),
  KEY `fk_country_currency` (`CURRENCY_ID_FK`)
) ENGINE=InnoDB  DEFAULT CHARSET=utf8 AUTO_INCREMENT=249 ;


--
-- Structure de la table `app_exercice`
--

CREATE TABLE IF NOT EXISTS `app_exercice` (
  `EXERCICE_ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `NAME` varchar(255) NOT NULL,
  `LEVEL` varchar(255) NOT NULL,
  `URL` varchar(255) NOT NULL,
  `URL_CALLBACK` varchar(255) NOT NULL,
  `Status` enum('ACTIF','INACTIF','DRAFT','') NOT NULL,
  `USER_EXECICE_ID_FK` bigint(20) NOT NULL,
  `PICTURE_ID_FK` bigint(20) NOT NULL,
  `EXERCICE_FILE_ID_FK` bigint(20) NOT NULL,
  `CATEGORY_ID_FK` bigint(20) NOT NULL,
  `CREATION_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `UPDATING_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `DELETING_DATE` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`EXERCICE_ID`),
  KEY `USER_EXECICE_ID_FK` (`USER_EXECICE_ID_FK`,`PICTURE_ID_FK`,`EXERCICE_FILE_ID_FK`,`CATEGORY_ID_FK`),
  KEY `PICTURE_ID_FK` (`PICTURE_ID_FK`),
  KEY `CATEGORY_ID_FK` (`CATEGORY_ID_FK`),
  KEY `PICTURE_ID_FK_2` (`PICTURE_ID_FK`),
  KEY `EXERCICE_FILE_ID_FK` (`EXERCICE_FILE_ID_FK`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Structure de la table `app_family`
--

CREATE TABLE IF NOT EXISTS `app_family` (
  `FAMILY_ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `FAMILY_NAME` varchar(255) NOT NULL,
  `ADRESS` varchar(100) NOT NULL,
  `COUNTRY_ID_FK` bigint(20) NOT NULL,
  `PHONE` varchar(50) NOT NULL,
  `MANAGER_USER_ID_FK` bigint(20) NOT NULL,
  `LOGO_FILE_ID_FK` bigint(20) DEFAULT NULL,
  `CREATION_DATE` timestamp NOT NULL,
  `UPDATING_DATE` timestamp NOT NULL,
  `DELETING_DATE` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`FAMILY_ID`),
  KEY `MANAGER_USER_ID_FK` (`MANAGER_USER_ID_FK`),
  KEY `LOGO_FILE_ID_FK` (`LOGO_FILE_ID_FK`),
  KEY `COUNTRY` (`COUNTRY_ID_FK`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=2 ;
-- --------------------------------------------------------

--
-- Structure de la table `app_family_member`
--

CREATE TABLE IF NOT EXISTS `app_family_member` (
  `FAMILY_MEMBER_ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `ROLE` enum('CHILD','PARENT') NOT NULL,
  `USER_ID_FK` bigint(20) NOT NULL,
  `FAMILY_ID_FK` bigint(20) NOT NULL,
  `CREATION_DATE` timestamp NOT NULL,
  `UPDATING_DATE` timestamp NOT NULL,
  `DELETING_DATE` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`FAMILY_MEMBER_ID`),
  KEY `USER_ID_FK` (`USER_ID_FK`),
  KEY `FAMILY_ID_FK` (`FAMILY_ID_FK`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Structure de la table `app_file`
--

CREATE TABLE IF NOT EXISTS `app_file` (
  `FILE_ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `FILE_NAME` varchar(255) NOT NULL,
  `PATH` varchar(255) NOT NULL,
  `USER_FILE_ID_FK` bigint(20) NOT NULL,
  `CREATION_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `UPDATING_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `DELETING_DATE` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`FILE_ID`),
  KEY `USER_ID_FK` (`USER_FILE_ID_FK`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Structure de la table `app_history`
--

CREATE TABLE IF NOT EXISTS `app_history` (
  `HISTORY_ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `SCORE` int(11) NOT NULL,
  `USER_ID_FK` bigint(20) NOT NULL,
  `EXERCICE_ID_FK` bigint(20) NOT NULL,
  `Status` enum('PLANED','STARTED','HOLD','CLOSE') NOT NULL,
  `CREATION_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `UPDATING_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `DELETING_DATE` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`HISTORY_ID`),
  KEY `USER_ID_FK` (`USER_ID_FK`,`EXERCICE_ID_FK`),
  KEY `EXERCICE_ID_FK` (`EXERCICE_ID_FK`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Structure de la table `app_reviews`
--

CREATE TABLE IF NOT EXISTS `app_reviews` (
  `REVIEWS_ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `SCORE` int(1) NOT NULL,
  `USER_ID_FK` bigint(20) NOT NULL,
  `EXERCICE_ID_FK` bigint(20) NOT NULL,
  `CREATION_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `UPDATING_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `DELETING_DATE` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`REVIEWS_ID`),
  KEY `USER_ID_FK` (`USER_ID_FK`,`EXERCICE_ID_FK`),
  KEY `EXERCICE_ID_FK` (`EXERCICE_ID_FK`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Structure de la table `app_role`
--

CREATE TABLE IF NOT EXISTS `app_role` (
  `ROLE_ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `USER_ID` bigint(20) NOT NULL,
  `ROLE` enum('ADMIN','USER') NOT NULL,
  `CREATION_DATE` timestamp NOT NULL,
  `UPDATING_DATE` timestamp NOT NULL,
  `DELETING_DATE` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`ROLE_ID`),
  UNIQUE KEY `uni_username_role` (`ROLE`,`USER_ID`),
  KEY `fk_user` (`USER_ID`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=10 ;



--
-- Structure de la table `app_training_center`
--

CREATE TABLE IF NOT EXISTS `app_training_center` (
  `CENTER_ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `NAME` varchar(255) NOT NULL,
  `LOGO_FILE_ID_FK` bigint(20) DEFAULT NULL,
  `MANAGER_USER_ID_FK` bigint(20) NOT NULL,
  `ADRESS` varchar(255) NOT NULL,
  `PHONE` varchar(255) NOT NULL,
  `STATUS` enum('REQUEST','SUSPENDED','VALIDATE') NOT NULL,
  `CREATION_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `UPDATING_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `DELETING_DATE` timestamp NULL DEFAULT NULL,
  `TRAINING_CENTER_COUNTRY_ID_FK` bigint(20) NOT NULL,
  PRIMARY KEY (`CENTER_ID`),
  KEY `LOGO_FILE_ID_FK` (`LOGO_FILE_ID_FK`,`MANAGER_USER_ID_FK`),
  KEY `MANAGER_USER_ID_FK` (`MANAGER_USER_ID_FK`),
  KEY `MANAGER_USER_ID_FK_2` (`MANAGER_USER_ID_FK`),
  KEY `TRAINING_CENTER_COUNTRY_ID_FK` (`TRAINING_CENTER_COUNTRY_ID_FK`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=8 ;



--
-- Structure de la table `app_training_center_activity`
--

CREATE TABLE IF NOT EXISTS `app_training_center_activity` (
  `TRAINING_CENTER_ACTIVITY_ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `ACTIVITY_NAME` varchar(255) NOT NULL,
  `MIN_NUMBER` int(11) NOT NULL,
  `MAX_NUMBER` int(11) NOT NULL,
  `URL_VIDEO` varchar(255) NOT NULL,
  `MIN_AGE` int(11) NOT NULL,
  `MAX_AGE` int(11) NOT NULL,
  `DURATION_ACTIVITY` int(11) NOT NULL,
  `EXERCICE_ACTIVITY_ID_FK` bigint(20) NOT NULL,
  `DOCUMENT_ID_FK` bigint(20) NOT NULL,
  `USER_ACTIVITY_ID_FK` bigint(20) NOT NULL,
  `TRAINING_CENTER_ACTIVITY_ID_FK` bigint(20) NOT NULL,
  `CREATION_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `UPDATING_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `DELETING_DATE` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`TRAINING_CENTER_ACTIVITY_ID`),
  KEY `EXERCICE_ACTIVITY_ID_FK` (`EXERCICE_ACTIVITY_ID_FK`),
  KEY `DOCUMENT_ID_FK` (`DOCUMENT_ID_FK`),
  KEY `USER_ACTIVITY_ID_FK` (`USER_ACTIVITY_ID_FK`),
  KEY `TRAINING_CENTER_ACTIVITY_ID_FK` (`TRAINING_CENTER_ACTIVITY_ID_FK`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Structure de la table `app_training_center_agenda`
--

CREATE TABLE IF NOT EXISTS `app_training_center_agenda` (
  `TRAINING_CENTER_AGENDA_ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `EVENT_DATE` timestamp NOT NULL,
  `START_HOUR` timestamp NOT NULL,
  `END_HOUR` timestamp NOT NULL,
  `PLANNED_Number` int(11) NOT NULL,
  `MIN_AGE` int(11) NOT NULL,
  `MAX_AGE` int(11) NOT NULL,
  `STATUS_AGENDA` enum('PLANNED','STARTED','HOLD','STOPPED') NOT NULL,
  `USER_AGENDA_ID_FK` bigint(20) NOT NULL,
  `TEACHER_AGENDA_ID_FK` bigint(20) NOT NULL,
  `DOCUMENT_AGENDA_ID_FK` bigint(20) NOT NULL,
  `ACTIVITY_ID_FK` bigint(20) NOT NULL,
  `CLASS_ID_FK` bigint(20) NOT NULL,
  `EXERCICE_AGENDA_ID_FK` bigint(20) NOT NULL,
  `FILE_AGENDA_ID_FK` bigint(20) NOT NULL,
  `CREATION_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `UPDATING_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `DELETING_DATE` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`TRAINING_CENTER_AGENDA_ID`),
  KEY `USER_AGENDA_ID_FK` (`USER_AGENDA_ID_FK`),
  KEY `TEACHER_USER_AGENDA_ID_FK` (`TEACHER_AGENDA_ID_FK`),
  KEY `DOCUMENT_AGENDA_ID_FK` (`DOCUMENT_AGENDA_ID_FK`),
  KEY `ACTIVITY_ID_FK` (`ACTIVITY_ID_FK`),
  KEY `CLASS_ID_FK` (`CLASS_ID_FK`),
  KEY `EXERCICE_AGENDA_ID_FK` (`EXERCICE_AGENDA_ID_FK`),
  KEY `FILE_AGENDA_ID_FK` (`FILE_AGENDA_ID_FK`),
  KEY `TEACHER_AGENDA_ID_FK` (`TEACHER_AGENDA_ID_FK`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Structure de la table `app_training_center_class`
--

CREATE TABLE IF NOT EXISTS `app_training_center_class` (
  `TRAINING_CENTER_CLASS_ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `CLASS_NAME` varchar(255) NOT NULL,
  `TEACHER_USER_ID_FK` bigint(20) DEFAULT NULL,
  `TRAINING_CENTER_ID_FK` bigint(20) NOT NULL,
  `PROGRAM_ID_FK` bigint(20) NOT NULL,
  `CREATION_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `UPDATING_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `DELETING_DATE` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`TRAINING_CENTER_CLASS_ID`),
  KEY `TRAINING_CENTER_ID_FK` (`TRAINING_CENTER_ID_FK`),
  KEY `TEACHER_USER_ID_FK` (`TEACHER_USER_ID_FK`),
  KEY `PROGRAM_ID_FK` (`PROGRAM_ID_FK`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=12 ;


--
-- Structure de la table `app_training_center_member`
--

CREATE TABLE IF NOT EXISTS `app_training_center_member` (
  `TRAINING_CENTER_MEMBER_ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `Status` enum('REQUEST','BLOQUED','VALIDATE') NOT NULL,
  `ROLE` enum('DIRECTOR','TEACHER','STUDENT','PARENT') NOT NULL,
  `START_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `RELEASE_DATE` timestamp NULL DEFAULT NULL,
  `MEMBER_USER_ID_FK` bigint(20) NOT NULL,
  `TRAINING_CENTER_ID_FK` bigint(20) NOT NULL,
  `CREATION_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `UPDATING_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `DELETING_DATE` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`TRAINING_CENTER_MEMBER_ID`),
  KEY `MEMBER_USER_ID_FK` (`MEMBER_USER_ID_FK`),
  KEY `CENTER_MEMBER_ID_FK` (`TRAINING_CENTER_ID_FK`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=18 ;



--
-- Structure de la table `app_training_center_program`
--

CREATE TABLE IF NOT EXISTS `app_training_center_program` (
  `TRAINING_CENTER_PROGRAM_ID` int(11) NOT NULL AUTO_INCREMENT,
  `PROGRAM_DURATION` int(11) NOT NULL,
  `PROGRAM_NAME` varchar(255) NOT NULL,
  `TRAINING_CENTER_PROGRAM_ID_FK` bigint(20) NOT NULL,
  `CREATION_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `UPDATING_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `DELETING_DATE` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`TRAINING_CENTER_PROGRAM_ID`),
  KEY `TRAINING_CENTER_PROGRAM_ID_FK` (`TRAINING_CENTER_PROGRAM_ID_FK`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Structure de la table `app_training_center_program_activity`
--

CREATE TABLE IF NOT EXISTS `app_training_center_program_activity` (
  `TRAINING_CENTER_PROGRAM_ACTIVITY_ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `PROGRAM_ORDRE` int(11) NOT NULL,
  `PROGRAM_ID_FK` bigint(20) NOT NULL,
  `ACTIVITY_ID_FK` bigint(20) NOT NULL,
  `CREATION_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `UPDATING_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `DELETING_DATE` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`TRAINING_CENTER_PROGRAM_ACTIVITY_ID`),
  KEY `ACTIVITY_ID_FK` (`ACTIVITY_ID_FK`),
  KEY `PROGRAM_ID_FK` (`PROGRAM_ID_FK`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Structure de la table `app_training_center_student`
--

CREATE TABLE IF NOT EXISTS `app_training_center_student` (
  `tcStudentId` bigint(20) NOT NULL AUTO_INCREMENT,
  `STUDENT_USER_ID_FK` bigint(20) NOT NULL,
  `TRAINING_CENTER_CLASS_ID_FK` bigint(20) NOT NULL,
  `CREATION_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `UPDATING_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `DELETING_DATE` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`tcStudentId`),
  KEY `TRAINING_CENTER_CLASS_ID_FK` (`TRAINING_CENTER_CLASS_ID_FK`),
  KEY `STUDENT_USER_ID_FK` (`STUDENT_USER_ID_FK`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=2 ;



--
-- Structure de la table `app_training_center_theme`
--

CREATE TABLE IF NOT EXISTS `app_training_center_theme` (
  `TRAINING_CENTER_THEME_ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `THEME_NAME` varchar(255) NOT NULL,
  `THEME_DESCRIPTION` varchar(255) NOT NULL,
  `THEME_ORDRE` int(11) NOT NULL,
  `PROGRAM_ID_FK` bigint(20) NOT NULL,
  `CREATION_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `UPDATING_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `DELETING_DATE` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`TRAINING_CENTER_THEME_ID`),
  KEY `PROGRAM_ID_FK` (`PROGRAM_ID_FK`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;

-- --------------------------------------------------------

--
-- Structure de la table `app_user`
--

CREATE TABLE IF NOT EXISTS `app_user` (
  `USER_ID` bigint(20) NOT NULL AUTO_INCREMENT,
  `USER_EMAIL` varchar(255) DEFAULT NULL,
  `USER_PASSWORD` varchar(255) DEFAULT NULL,
  `CREATION_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `UPDATING_DATE` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `DELETING_DATE` timestamp NULL DEFAULT NULL,
  `USER_NAME` varchar(255) NOT NULL,
  `FIRST_NAME` varchar(255) NOT NULL,
  `LAST_NAME` varchar(255) NOT NULL,
  `ADRESS` varchar(255) NOT NULL,
  `COUNTRY_ID_FK` bigint(20) NOT NULL,
  `PHONE` varchar(255) NOT NULL,
  `STATUS` enum('SIGNUP','VALIDATE','SUSPENDED') NOT NULL,
  `facebook_id` varchar(255) DEFAULT NULL,
  `google_id` varchar(255) DEFAULT NULL,
  `BIRTHDAY` date NOT NULL,
  `PICTURE_ID_FK` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`USER_ID`),
  KEY `PICTURE_ID_FK` (`PICTURE_ID_FK`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=17 ;



--
-- Contraintes pour la table `app_category`
--
ALTER TABLE `app_category`
  ADD CONSTRAINT `CATEGORY_PARENT_ID_FK` FOREIGN KEY (`CATEGORY_PARENT_ID_FK`) REFERENCES `app_category` (`CATEGORY_ID`),
  ADD CONSTRAINT `USER_ID_FK` FOREIGN KEY (`USER_ID_FK`) REFERENCES `app_user` (`USER_ID`);

--
-- Contraintes pour la table `app_exercice`
--
ALTER TABLE `app_exercice`
  ADD CONSTRAINT `CATEGORY_ID_FK` FOREIGN KEY (`CATEGORY_ID_FK`) REFERENCES `app_category` (`CATEGORY_ID`),
  ADD CONSTRAINT `EXERCICE_FILE_ID_FK` FOREIGN KEY (`EXERCICE_FILE_ID_FK`) REFERENCES `app_file` (`FILE_ID`),
  ADD CONSTRAINT `PICTURE_ID_FK` FOREIGN KEY (`PICTURE_ID_FK`) REFERENCES `app_file` (`FILE_ID`),
  ADD CONSTRAINT `USER_EXECICE_ID_FK` FOREIGN KEY (`USER_EXECICE_ID_FK`) REFERENCES `app_exercice` (`EXERCICE_ID`);

--
-- Contraintes pour la table `app_family`
--

ALTER TABLE `app_family`
  ADD CONSTRAINT `COUNTRY_FAMILY_ID_FK` FOREIGN KEY (`COUNTRY_ID_FK`) REFERENCES `app_country` (`ID`),
  ADD CONSTRAINT `LOGO_FILE_ID_FK` FOREIGN KEY (`LOGO_FILE_ID_FK`) REFERENCES `app_file` (`FILE_ID`),
  ADD CONSTRAINT `MANAGER_USER_ID_FK` FOREIGN KEY (`MANAGER_USER_ID_FK`) REFERENCES `app_user` (`USER_ID`);
--
-- Contraintes pour la table `app_family_member`
--
ALTER TABLE `app_family_member`
  ADD CONSTRAINT `FAMILY_ID_FK` FOREIGN KEY (`FAMILY_ID_FK`) REFERENCES `app_family` (`FAMILY_ID`),
  ADD CONSTRAINT `USER_FAMILY_MEMBER_ID_FK` FOREIGN KEY (`USER_ID_FK`) REFERENCES `app_user` (`USER_ID`);

--
-- Contraintes pour la table `app_file`
--
ALTER TABLE `app_file`
  ADD CONSTRAINT `USER_FILE_ID_FK` FOREIGN KEY (`USER_FILE_ID_FK`) REFERENCES `app_user` (`USER_ID`);

--
-- Contraintes pour la table `app_history`
--
ALTER TABLE `app_history`
  ADD CONSTRAINT `EXERCICE_ID_FK` FOREIGN KEY (`EXERCICE_ID_FK`) REFERENCES `app_exercice` (`EXERCICE_ID`),
  ADD CONSTRAINT `USER_HISTORY_ID_FK` FOREIGN KEY (`USER_ID_FK`) REFERENCES `app_user` (`USER_ID`);

--
-- Contraintes pour la table `app_reviews`
--
ALTER TABLE `app_reviews`
  ADD CONSTRAINT `EXERCICE_REVIEWS_ID_FK	` FOREIGN KEY (`EXERCICE_ID_FK`) REFERENCES `app_exercice` (`EXERCICE_ID`),
  ADD CONSTRAINT `USER_REVIEWS_ID_FK` FOREIGN KEY (`USER_ID_FK`) REFERENCES `app_user` (`USER_ID`);

--
-- Contraintes pour la table `app_role`
--
ALTER TABLE `app_role`
  ADD CONSTRAINT `fk_user` FOREIGN KEY (`USER_ID`) REFERENCES `app_user` (`USER_ID`);

--
-- Contraintes pour la table `app_training_center`
--
ALTER TABLE `app_training_center`
  ADD CONSTRAINT `TRAINING_CENTER_LOGO_FILE_ID_FK` FOREIGN KEY (`LOGO_FILE_ID_FK`) REFERENCES `app_file` (`FILE_ID`),
  ADD CONSTRAINT `TRAINING_CENTER_MANAGER_USER_ID_FK` FOREIGN KEY (`MANAGER_USER_ID_FK`) REFERENCES `app_user` (`USER_ID`);

--
-- Contraintes pour la table `app_training_center_activity`
--
ALTER TABLE `app_training_center_activity`
  ADD CONSTRAINT `TRAINING_CENTER_ACTIVITY_ID_FK` FOREIGN KEY (`TRAINING_CENTER_ACTIVITY_ID_FK`) REFERENCES `app_training_center_activity` (`TRAINING_CENTER_ACTIVITY_ID`),
  ADD CONSTRAINT `DOCUMENT_ID_FK` FOREIGN KEY (`DOCUMENT_ID_FK`) REFERENCES `app_file` (`FILE_ID`),
  ADD CONSTRAINT `EXERCICE_ACTIVITY_ID_FK` FOREIGN KEY (`EXERCICE_ACTIVITY_ID_FK`) REFERENCES `app_exercice` (`EXERCICE_ID`),
  ADD CONSTRAINT `USER_ACTIVITY_ID_FK` FOREIGN KEY (`USER_ACTIVITY_ID_FK`) REFERENCES `app_user` (`USER_ID`);

--
-- Contraintes pour la table `app_training_center_agenda`
--
ALTER TABLE `app_training_center_agenda`
  ADD CONSTRAINT `TEACHER_AGENDA_ID_FK` FOREIGN KEY (`TEACHER_AGENDA_ID_FK`) REFERENCES `app_training_center_member` (`TRAINING_CENTER_MEMBER_ID`),
  ADD CONSTRAINT `ACTIVITY_AGENDA_ID_FK` FOREIGN KEY (`ACTIVITY_ID_FK`) REFERENCES `app_training_center_activity` (`TRAINING_CENTER_ACTIVITY_ID`),
  ADD CONSTRAINT `CLASS_AGENDA_ID_FK` FOREIGN KEY (`CLASS_ID_FK`) REFERENCES `app_training_center_class` (`TRAINING_CENTER_CLASS_ID`),
  ADD CONSTRAINT `DOCUMENT_AGENDA_ID_FK` FOREIGN KEY (`DOCUMENT_AGENDA_ID_FK`) REFERENCES `app_file` (`FILE_ID`),
  ADD CONSTRAINT `EXERCICE_AGENDA_ID_FK` FOREIGN KEY (`EXERCICE_AGENDA_ID_FK`) REFERENCES `app_exercice` (`EXERCICE_ID`),
  ADD CONSTRAINT `FILE_AGENDA_ID_FK` FOREIGN KEY (`FILE_AGENDA_ID_FK`) REFERENCES `app_file` (`FILE_ID`),
  ADD CONSTRAINT `USER_AGENDA_ID_FK` FOREIGN KEY (`USER_AGENDA_ID_FK`) REFERENCES `app_user` (`USER_ID`);

--
-- Contraintes pour la table `app_training_center_class`
--
ALTER TABLE `app_training_center_class`
  ADD CONSTRAINT `TRAINING_CENTER_ID_FK_2` FOREIGN KEY (`TRAINING_CENTER_ID_FK`) REFERENCES `app_training_center` (`CENTER_ID`),
  ADD CONSTRAINT `TEACHER_USER_ID_FK` FOREIGN KEY (`TEACHER_USER_ID_FK`) REFERENCES `app_user` (`USER_ID`);

--
-- Contraintes pour la table `app_training_center_member`
--
ALTER TABLE `app_training_center_member`
  ADD CONSTRAINT `CENTER_MEMBER_ID_FK` FOREIGN KEY (`TRAINING_CENTER_ID_FK`) REFERENCES `app_training_center` (`CENTER_ID`),
  ADD CONSTRAINT `MEMBER_USER_ID_FK` FOREIGN KEY (`MEMBER_USER_ID_FK`) REFERENCES `app_user` (`USER_ID`);

--
-- Contraintes pour la table `app_training_center_program`
--
ALTER TABLE `app_training_center_program`
  ADD CONSTRAINT `TRAINING_CENTER_PROGRAM_ID_FK` FOREIGN KEY (`TRAINING_CENTER_PROGRAM_ID_FK`) REFERENCES `app_training_center` (`CENTER_ID`);

--
-- Contraintes pour la table `app_training_center_program_activity`
--
ALTER TABLE `app_training_center_program_activity`
  ADD CONSTRAINT `PROGRAM_ID_FK` FOREIGN KEY (`PROGRAM_ID_FK`) REFERENCES `app_training_center_program_activity` (`TRAINING_CENTER_PROGRAM_ACTIVITY_ID`),
  ADD CONSTRAINT `ACTIVITY_ID_FK` FOREIGN KEY (`ACTIVITY_ID_FK`) REFERENCES `app_training_center_activity` (`TRAINING_CENTER_ACTIVITY_ID`);

--
-- Contraintes pour la table `app_training_center_student`
--
ALTER TABLE `app_training_center_student`
  ADD CONSTRAINT `STUDENT_USER_ID_FK` FOREIGN KEY (`STUDENT_USER_ID_FK`) REFERENCES `app_user` (`USER_ID`),
  ADD CONSTRAINT `TRAINING_CENTER_CLASS_ID_FK` FOREIGN KEY (`TRAINING_CENTER_CLASS_ID_FK`) REFERENCES `app_training_center_class` (`TRAINING_CENTER_CLASS_ID`);

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
